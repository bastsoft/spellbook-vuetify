import{A as L,c as s,a as R,f as E,B as x,C as B}from"./vue.esm-bundler-DN3_H5t5.js";import{p as P,d as y,n as g,l as w,I as A}from"./defineComponent-CQcCBefB.js";function C(){const e=y("useRoute");return s(()=>{var a;return(a=e==null?void 0:e.proxy)==null?void 0:a.$route})}function b(){var e,a;return(a=(e=y("useRouter"))==null?void 0:e.proxy)==null?void 0:a.$router}function q(e,a){var d,p;const u=L("RouterLink"),n=s(()=>!!(e.href||e.to)),i=s(()=>(n==null?void 0:n.value)||g(a,"click")||g(e,"click"));if(typeof u=="string"||!("useLink"in u)){const o=R(e,"href");return{isLink:n,isClickable:i,href:o,linkProps:E({href:o})}}const l=s(()=>({...e,to:R(()=>e.to||"")})),c=u.useLink(l.value),t=s(()=>e.to?c:void 0),r=C(),v=s(()=>{var o,h,m;return t.value?e.exact?r.value?((m=t.value.isExactActive)==null?void 0:m.value)&&w(t.value.route.value.query,r.value.query):((h=t.value.isExactActive)==null?void 0:h.value)??!1:((o=t.value.isActive)==null?void 0:o.value)??!1:!1}),k=s(()=>{var o;return e.to?(o=t.value)==null?void 0:o.route.value.href:e.href});return{isLink:n,isClickable:i,isActive:v,route:(d=t.value)==null?void 0:d.route,navigate:(p=t.value)==null?void 0:p.navigate,href:k,linkProps:E({href:k,"aria-current":s(()=>v.value?"page":void 0)})}}const I=P({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let f=!1;function D(e,a){let u=!1,n,i;A&&(x(()=>{window.addEventListener("popstate",l),n=e==null?void 0:e.beforeEach((c,t,r)=>{f?u?a(r):r():setTimeout(()=>u?a(r):r()),f=!0}),i=e==null?void 0:e.afterEach(()=>{f=!1})}),B(()=>{window.removeEventListener("popstate",l),n==null||n(),i==null||i()}));function l(c){var t;(t=c.state)!=null&&t.replaced||(u=!0,setTimeout(()=>u=!1))}}export{b as a,D as b,I as m,q as u};
