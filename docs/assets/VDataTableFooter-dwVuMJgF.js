import{c as m,w as z,p as H,e as J,r as Q,P as Y,s as Z,a as h,b as u,m as V,B as N}from"./vue.esm-bundler-DN3_H5t5.js";import{u as w}from"./proxiedModel-jyRWVYhQ.js";import{p as T,d as ee,v as A,g as E,a as R,e as F,K as D}from"./defineComponent-CQcCBefB.js";import{I as y}from"./VIcon-B3X9_QNp.js";import{u as O,a as ae}from"./locale-BPiAokE7.js";import{m as te}from"./border-A9tpoLC0.js";import{m as le}from"./component-BzmGkC7Q.js";import{m as ie}from"./density-CJzSG3iM.js";import{m as ne}from"./elevation-P3zsY2KP.js";import{u as re}from"./resizeObserver-Bq73nlWe.js";import{m as se}from"./rounded-BjGW9D1q.js";import{m as ue}from"./size-DFYA7rG5.js";import{m as oe}from"./tag-CaUsCUob.js";import{m as ve,p as de}from"./theme-ih7eM7Zv.js";import{m as fe}from"./variant-CLv4R3m-.js";import{u as ge}from"./display-CXz21PgD.js";import{V as $}from"./VBtn-D_tqydEW.js";import{u as K}from"./useRender-Dx5zp1wG.js";import{V as ce}from"./VSelect-y6VqIVHP.js";const Me=T({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),U=Symbol.for("vuetify:data-table-pagination");function ze(e){const r=w(e,"page",void 0,s=>+(s??1)),t=w(e,"itemsPerPage",void 0,s=>+(s??10));return{page:r,itemsPerPage:t}}function Ee(e){const{page:r,itemsPerPage:t,itemsLength:s}=e,i=m(()=>t.value===-1?0:t.value*(r.value-1)),g=m(()=>t.value===-1?s.value:Math.min(s.value,i.value+t.value)),d=m(()=>t.value===-1||s.value===0?1:Math.ceil(s.value/t.value));z([r,d],()=>{r.value>d.value&&(r.value=d.value)});function b(l){t.value=l,r.value=1}function L(){r.value=A(r.value+1,1,d.value)}function S(){r.value=A(r.value-1,1,d.value)}function x(l){r.value=A(l,1,d.value)}const I={page:r,itemsPerPage:t,startIndex:i,stopIndex:g,pageCount:d,itemsLength:s,nextPage:L,prevPage:S,setPage:x,setItemsPerPage:b};return H(U,I),I}function me(){const e=J(U);if(!e)throw new Error("Missing pagination!");return e}function Oe(e){const r=ee("usePaginatedItems"),{items:t,startIndex:s,stopIndex:i,itemsPerPage:g}=e,d=m(()=>g.value<=0?t.value:t.value.slice(s.value,i.value));return z(d,b=>{r.emit("update:currentItems",b)}),{paginatedItems:d}}function be(){const e=Q([]);Y(()=>e.value=[]);function r(t,s){e.value[s]=t}return{refs:e,updateRef:r}}const Pe=T({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1===0},totalVisible:[Number,String],firstIcon:{type:y,default:"$first"},prevIcon:{type:y,default:"$prev"},nextIcon:{type:y,default:"$next"},lastIcon:{type:y,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...te(),...le(),...ie(),...ne(),...se(),...ue(),...oe({tag:"nav"}),...ve(),...fe({variant:"text"})},"VPagination"),M=E()({name:"VPagination",props:Pe(),emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,r){let{slots:t,emit:s}=r;const i=w(e,"modelValue"),{t:g,n:d}=O(),{isRtl:b}=ae(),{themeClasses:L}=de(e),{width:S}=ge(),x=Z(-1);R(void 0,{scoped:!0});const{resizeRef:I}=re(a=>{if(!a.length)return;const{target:n,contentRect:o}=a[0],c=n.querySelector(".v-pagination__list > *");if(!c)return;const P=o.width,_=c.offsetWidth+parseFloat(getComputedStyle(c).marginRight)*2;x.value=C(P,_)}),l=m(()=>parseInt(e.length,10)),v=m(()=>parseInt(e.start,10)),f=m(()=>e.totalVisible!=null?parseInt(e.totalVisible,10):x.value>=0?x.value:C(S.value,58));function C(a,n){const o=e.showFirstLastPage?5:3;return Math.max(0,Math.floor(+((a-n*o)/n).toFixed(2)))}const W=m(()=>{if(l.value<=0||isNaN(l.value)||l.value>Number.MAX_SAFE_INTEGER)return[];if(f.value<=0)return[];if(f.value===1)return[i.value];if(l.value<=f.value)return F(l.value,v.value);const a=f.value%2===0,n=a?f.value/2:Math.floor(f.value/2),o=a?n:n+1,c=l.value-n;if(o-i.value>=0)return[...F(Math.max(1,f.value-1),v.value),e.ellipsis,l.value];if(i.value-c>=(a?1:0)){const P=f.value-1,_=l.value-P+v.value;return[v.value,e.ellipsis,...F(P,_)]}else{const P=Math.max(1,f.value-3),_=P===1?i.value:i.value-Math.ceil(P/2)+v.value;return[v.value,e.ellipsis,...F(P,_),e.ellipsis,l.value]}});function k(a,n,o){a.preventDefault(),i.value=n,o&&s(o,n)}const{refs:j,updateRef:q}=be();R({VPaginationBtn:{color:h(e,"color"),border:h(e,"border"),density:h(e,"density"),size:h(e,"size"),variant:h(e,"variant"),rounded:h(e,"rounded"),elevation:h(e,"elevation")}});const G=m(()=>W.value.map((a,n)=>{const o=c=>q(c,n);if(typeof a=="string")return{isActive:!1,key:`ellipsis-${n}`,page:a,props:{ref:o,ellipsis:!0,icon:!0,disabled:!0}};{const c=a===i.value;return{isActive:c,key:a,page:d(a),props:{ref:o,ellipsis:!1,icon:!0,disabled:!!e.disabled||+e.length<2,color:c?e.activeColor:e.color,"aria-current":c,"aria-label":g(c?e.currentPageAriaLabel:e.pageAriaLabel,a),onClick:P=>k(P,a)}}}})),p=m(()=>{const a=!!e.disabled||i.value<=v.value,n=!!e.disabled||i.value>=v.value+l.value-1;return{first:e.showFirstLastPage?{icon:b.value?e.lastIcon:e.firstIcon,onClick:o=>k(o,v.value,"first"),disabled:a,"aria-label":g(e.firstAriaLabel),"aria-disabled":a}:void 0,prev:{icon:b.value?e.nextIcon:e.prevIcon,onClick:o=>k(o,i.value-1,"prev"),disabled:a,"aria-label":g(e.previousAriaLabel),"aria-disabled":a},next:{icon:b.value?e.prevIcon:e.nextIcon,onClick:o=>k(o,i.value+1,"next"),disabled:n,"aria-label":g(e.nextAriaLabel),"aria-disabled":n},last:e.showFirstLastPage?{icon:b.value?e.firstIcon:e.lastIcon,onClick:o=>k(o,v.value+l.value-1,"last"),disabled:n,"aria-label":g(e.lastAriaLabel),"aria-disabled":n}:void 0}});function B(){var n;const a=i.value-v.value;(n=j.value[a])==null||n.$el.focus()}function X(a){a.key===D.left&&!e.disabled&&i.value>+e.start?(i.value=i.value-1,N(B)):a.key===D.right&&!e.disabled&&i.value<v.value+l.value-1&&(i.value=i.value+1,N(B))}return K(()=>u(e.tag,{ref:I,class:["v-pagination",L.value,e.class],style:e.style,role:"navigation","aria-label":g(e.ariaLabel),onKeydown:X,"data-test":"v-pagination-root"},{default:()=>[u("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&u("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[t.first?t.first(p.value.first):u($,V({_as:"VPaginationBtn"},p.value.first),null)]),u("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[t.prev?t.prev(p.value.prev):u($,V({_as:"VPaginationBtn"},p.value.prev),null)]),G.value.map((a,n)=>u("li",{key:a.key,class:["v-pagination__item",{"v-pagination__item--is-active":a.isActive}],"data-test":"v-pagination-item"},[t.item?t.item(a):u($,V({_as:"VPaginationBtn"},a.props),{default:()=>[a.page]})])),u("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[t.next?t.next(p.value.next):u($,V({_as:"VPaginationBtn"},p.value.next),null)]),e.showFirstLastPage&&u("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[t.last?t.last(p.value.last):u($,V({_as:"VPaginationBtn"},p.value.last),null)])])]})),{}}}),pe=T({prevIcon:{type:y,default:"$prev"},nextIcon:{type:y,default:"$next"},firstIcon:{type:y,default:"$first"},lastIcon:{type:y,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),Ke=E()({name:"VDataTableFooter",props:pe(),setup(e,r){let{slots:t}=r;const{t:s}=O(),{page:i,pageCount:g,startIndex:d,stopIndex:b,itemsLength:L,itemsPerPage:S,setItemsPerPage:x}=me(),I=m(()=>e.itemsPerPageOptions.map(l=>typeof l=="number"?{value:l,title:l===-1?s("$vuetify.dataFooter.itemsPerPageAll"):String(l)}:{...l,title:isNaN(Number(l.title))?s(l.title):l.title}));return K(()=>{var v;const l=M.filterProps(e);return u("div",{class:"v-data-table-footer"},[(v=t.prepend)==null?void 0:v.call(t),u("div",{class:"v-data-table-footer__items-per-page"},[u("span",null,[s(e.itemsPerPageText)]),u(ce,{items:I.value,modelValue:S.value,"onUpdate:modelValue":f=>x(Number(f)),density:"compact",variant:"outlined","hide-details":!0},null)]),u("div",{class:"v-data-table-footer__info"},[u("div",null,[s(e.pageText,L.value?d.value+1:0,b.value,L.value)])]),u("div",{class:"v-data-table-footer__pagination"},[u(M,V({modelValue:i.value,"onUpdate:modelValue":f=>i.value=f,density:"comfortable","first-aria-label":e.firstPageLabel,"last-aria-label":e.lastPageLabel,length:g.value,"next-aria-label":e.nextPageLabel,"previous-aria-label":e.prevPageLabel,rounded:!0,"show-first-last-page":!0,"total-visible":e.showCurrentPage?1:0,variant:"plain"},l),null)])])}),{}}});export{Ke as V,pe as a,M as b,ze as c,Me as m,Ee as p,Oe as u};
