import{c as y,b as t,F as U,m as k}from"./vue.esm-bundler-DN3_H5t5.js";import{d as j,e as z,f as R,V}from"./headers-Bd2sjvUy.js";import{u as q}from"./color-PPr8Dcou.js";import{m as E,u as G}from"./display-CXz21PgD.js";import{I as P,V as w}from"./VIcon-B3X9_QNp.js";import{m as J,u as K,L as Q}from"./loader-C7aF6J4b.js";import{u as X}from"./locale-BPiAokE7.js";import{V as Y}from"./VCheckboxBtn-CSn5bCvD.js";import{V as Z,c as ee}from"./VSelect-y6VqIVHP.js";import{p as ae,g as te,c as g}from"./defineComponent-CQcCBefB.js";import{u as le}from"./useRender-Dx5zp1wG.js";const oe=ae({color:String,sticky:Boolean,disableSort:Boolean,multiSort:Boolean,sortAscIcon:{type:P,default:"$sortAsc"},sortDescIcon:{type:P,default:"$sortDesc"},headerProps:{type:Object},...E(),...J()},"VDataTableHeaders"),he=te()({name:"VDataTableHeaders",props:oe(),setup(a,I){let{slots:s}=I;const{t:D}=X(),{toggleSort:u,sortBy:c,isSorted:i}=j(),{someSelected:m,allSelected:n,selectAll:v,showSelectAll:B}=z(),{columns:b,headers:S}=R(),{loaderClasses:T}=K(a);function $(o,e){if(!(!a.sticky&&!o.fixed))return{position:"sticky",left:o.fixed?g(o.fixedOffset):void 0,top:a.sticky?`calc(var(--v-table-header-height) * ${e})`:void 0}}function f(o){const e=c.value.find(r=>r.key===o.key);return e?e.order==="asc"?a.sortAscIcon:a.sortDescIcon:a.sortAscIcon}const{backgroundColorClasses:H,backgroundColorStyles:A}=q(a,"color"),{displayClasses:F,mobile:L}=G(a),O=y(()=>({headers:S.value,columns:b.value,toggleSort:u,isSorted:i,sortBy:c.value,someSelected:m.value,allSelected:n.value,selectAll:v,getSortIcon:f})),p=y(()=>["v-data-table__th",{"v-data-table__th--sticky":a.sticky},F.value,T.value]),W=o=>{let{column:e,x:r,y:l}=o;const d=e.key==="data-table-select"||e.key==="data-table-expand",h=k(a.headerProps??{},e.headerProps??{});return t(V,k({tag:"th",align:e.align,class:[{"v-data-table__th--sortable":e.sortable&&!a.disableSort,"v-data-table__th--sorted":i(e),"v-data-table__th--fixed":e.fixed},...p.value],style:{width:g(e.width),minWidth:g(e.minWidth),maxWidth:g(e.maxWidth),...$(e,l)},colspan:e.colspan,rowspan:e.rowspan,onClick:e.sortable?()=>u(e):void 0,fixed:e.fixed,nowrap:e.nowrap,lastFixed:e.lastFixed,noPadding:d},h),{default:()=>{var C;const _=`header.${e.key}`,x={column:e,selectAll:v,isSorted:i,toggleSort:u,sortBy:c.value,someSelected:m.value,allSelected:n.value,getSortIcon:f};return s[_]?s[_](x):e.key==="data-table-select"?((C=s["header.data-table-select"])==null?void 0:C.call(s,x))??(B.value&&t(Y,{modelValue:n.value,indeterminate:m.value&&!n.value,"onUpdate:modelValue":v},null)):t("div",{class:"v-data-table-header__content"},[t("span",null,[e.title]),e.sortable&&!a.disableSort&&t(w,{key:"icon",class:"v-data-table-header__sort-icon",icon:f(e)},null),a.multiSort&&i(e)&&t("div",{key:"badge",class:["v-data-table-header__sort-badge",...H.value],style:A.value},[c.value.findIndex(N=>N.key===e.key)+1])])}})},M=()=>{const o=k(a.headerProps??{}??{}),e=y(()=>b.value.filter(l=>(l==null?void 0:l.sortable)&&!a.disableSort)),r=y(()=>{if(b.value.find(d=>d.key==="data-table-select")!=null)return n.value?"$checkboxOn":m.value?"$checkboxIndeterminate":"$checkboxOff"});return t(V,k({tag:"th",class:[...p.value],colspan:S.value.length+1},o),{default:()=>[t("div",{class:"v-data-table-header__content"},[t(Z,{chips:!0,class:"v-data-table__td-sort-select",clearable:!0,density:"default",items:e.value,label:D("$vuetify.dataTable.sortBy"),multiple:a.multiSort,variant:"underlined","onClick:clear":()=>c.value=[],appendIcon:r.value,"onClick:append":()=>v(!n.value)},{...s,chip:l=>{var d;return t(ee,{onClick:(d=l.item.raw)!=null&&d.sortable?()=>u(l.item.raw):void 0,onMousedown:h=>{h.preventDefault(),h.stopPropagation()}},{default:()=>[l.item.title,t(w,{class:["v-data-table__td-sort-icon",i(l.item.raw)&&"v-data-table__td-sort-icon-active"],icon:f(l.item.raw),size:"small"},null)]})}})])]})};le(()=>L.value?t("tr",null,[t(M,null,null)]):t(U,null,[s.headers?s.headers(O.value):S.value.map((o,e)=>t("tr",null,[o.map((r,l)=>t(W,{column:r,x:l,y:e},null))])),a.loading&&t("tr",{class:"v-data-table-progress"},[t("th",{colspan:b.value.length},[t(Q,{name:"v-data-table-progress",absolute:!0,active:!0,color:typeof a.loading=="boolean"?void 0:a.loading,indeterminate:!0},{default:s.loader})])])]))}});export{he as V,oe as m};
